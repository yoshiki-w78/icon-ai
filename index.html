<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>AIcon｜AIアイコン自動生成ツール</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="AIconは、日本語で相談しながらGeminiでアイコン用プロンプトを作成し、そのままAIアイコン案を表示できるツールです。"
  />
  <link rel="stylesheet" href="style.css" />
  <!-- Google Sign-In Library -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body class="page">
  <!-- Header -->
  <header class="header">
    <div>
      <div class="logo-line">
        <span class="logo-mark">◎</span>
        <h1 class="title">AIcon</h1>
      </div>
      <p class="subtitle">
        <span class="subtitle-strong">AIアシスタントと対話しながら</span>、
        最適なアイコン用プロンプトを作成して結果を確認できます。
      </p>
    </div>
    <div class="header-right">
      <span class="tag">Hackathon Prototype</span>
      <div class="stack-label">Gemini × PixAI × HTML/CSS/JS</div>
      <button id="logout-btn" class="btn-ghost">ログイン</button>
      <button
        class="btn-header"
        onclick="location.href='settings.html'"
      >
        ⚙ Gemini設定
      </button>
      <button id="logout-btn" class="btn-header btn-header-secondary">
        ↩ ログアウト
      </button>
    </div>
  </header>

  <!-- Main -->
  <main class="layout">
    <!-- 左：AIアシスタント（チャット） -->
    <section class="panel panel-chat">
      <div class="section-head">
        <h2 class="section-title">AIアシスタント</h2>
        <p class="section-caption">プロンプト作成をサポートします</p>
      </div>

      <div id="chat-window" class="chat-window">
        <!-- 初期メッセージはJS側で追加 -->
      </div>

      <div class="chat-input-row">
        <textarea
          id="chat-input"
          class="textarea chat-input"
          placeholder="例）青系でシンプルなFintechサービスのアイコンを作りたい"
        ></textarea>
        <button id="chat-send-btn" class="btn-chat">送信</button>

      </div>
            <div class="chat-actions">
        <button id="chat-generate-btn" class="btn-gemini-inline">
          このままプロンプト生成
        </button>
      </div>

      <p class="label-note">
        ※ AIアシスタントは、最終的に右側の「プロンプト編集」に反映できる英語プロンプト案を提案します。
      </p>
    </section>

    <!-- 右：プロンプト編集 ＋ 生成結果 -->
    <section class="panel panel-editor">
      <!-- プロンプト編集 -->
      <div class="section-head editor-head">
        <h2 class="section-title">プロンプト編集</h2>
        <p class="section-caption">
          左のチャット内容をもとに、最終的に画像生成に使うプロンプトを整えます。
        </p>
      </div>

      <div class="editor-controls">
        <div class="field-inline">
          <label class="label-text" for="size-select">画像サイズ</label>
          <select id="size-select" class="input input-inline">
            <option value="512x512">512 × 512  (推奨）</option>
            <option value="768x768">768 × 768</option>
            <option value="1024x1024">1024 × 1024</option>
          </select>
        </div>

        <div class="field-inline">
          <label class="label-text" for="style-select">スタイル</label>
          <select id="style-select" class="input input-inline">
            <option value="">指定なし</option>
            <option value="minimal">Minimal</option>
            <option value="flat">Flat</option>
            <option value="gradient">Gradient</option>
            <option value="outline">Outline</option>
            <option value="neon">Neon</option>
          </select>
        </div>

        <button id="reset-prompt-btn" class="btn-outline btn-xs editor-reset">
          リセット
        </button>
      </div>

      <label class="label">
        最終プロンプト（編集可）
        <span class="label-note">
          AIアシスタントが提案した内容をベースに、ここで自由に編集してください。
        </span>
        <textarea
          id="final-prompt"
          class="textarea"
          placeholder="A modern minimalist blue fintech icon..."
        ></textarea>
      </label>

      <button id="generate-btn" class="btn-primary editor-generate">
        アイコンを生成
      </button>

      <p id="error-msg" class="error-text"></p>

      <!-- 生成結果 -->
      <div class="results-header">
        <h3 class="section-title">生成結果</h3>
        <button id="download-btn" class="btn-download" disabled>
          ⬇ 選択中のアイコンをダウンロード
        </button>
      </div>

      <div id="icons-grid" class="icons-grid">
        <div class="placeholder-block">
          <p class="placeholder-title">まだアイコンは表示されていません</p>
          <p class="placeholder-text">
            左の「AIアシスタント」と相談し、
            <span class="placeholder-highlight">プロンプトを整えてから「アイコンを生成」</span>
            を押すと、ここに候補が表示されます。
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- Login Modal -->
  <div id="login-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">ログイン</h2>
        <button id="close-modal" class="modal-close">&times;</button>
      </div>
      
      <!-- Login Method Tabs -->
      <div class="login-tabs">
        <button class="login-tab active" data-tab="social">ソーシャル</button>
        <button class="login-tab" data-tab="email">メールアドレス</button>
      </div>
      
      <!-- Social Login (GitHub / Google) -->
      <div id="social-login" class="login-panel active">
        <button class="social-btn github-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
          </svg>
          GitHub でログイン
        </button>
        
        <!-- Google One Tap Button (公式) -->
        <div id="google-signin-button" style="display: flex; justify-content: center; margin-top: 12px;"></div>
      </div>
      
      <!-- Email Login -->
      <div id="email-login" class="login-panel">
        <form class="login-form">
          <label class="label">
            メールアドレス
            <input type="email" class="input" placeholder="example@example.com" required />
          </label>
          <label class="label">
            パスワード
            <input type="password" class="input" placeholder="パスワードを入力" required />
          </label>
          <button type="submit" class="btn-primary">ログイン</button>
          <div class="login-footer">
            <a href="#" class="login-link">パスワードを忘れた方</a>
            <a href="#" class="login-link">新規登録</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-left">
      <span class="footer-brand">AIcon</span>
      <span class="footer-text">Prompt to Icon Playground</span>
    </div>
    <div class="footer-right">
      <span class="footer-text">Team ショートカットサバイバル</span>
    </div>
  </footer>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>